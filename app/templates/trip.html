{% extends "base.html" %}
{% block stylesheets %}
<link href="{{ url_for('static', filename='trip.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <h1 class="col-sm-12">Welcome, {{ username }}!</h1>
    </div>
    <div class="row" id="add_trip_button">
        <div class="col-sm-12 section">
            <a href="{{ url_for('create_trip') }}" class="btn btn-primary" role="button">Add a Trip</a>
        </div>
    </div>
    <div class="row">
        <h3 class="col-md-12">Here's the trip information</h3>
    </div>
    <div class="row">
        <div class="col-md-12 section">
            <table class="table">
                <thead class="thead-light">
                    <tr>
                        <th style="width: 30%" scope="col" data-field="trip_title">Trip Title</th>
                        <th style="width: 50%" scope="col" data-field="destination">Destination</th>
                        <th style="width: 10%" scope="col" data-field="map-btn"></th>
                        <th style="width: 10%" scope="col" data-field="remove-btn"></th>
                    </tr>
                </thead>
                {% for trip in trips %}
                <tr>
                    <td>{{ trip['name'] }}</td>
                    <td>{{ trip['dest'] }}</td>
                    <td><button class="btn btn-outline-info" type="button" data-toggle="collapse" data-target="#map_{{ trip['trip_id'] }}" aria-expanded="false" aria-controls="map_{{ trip['trip_id'] }}">Toggle Map</button></td>
                    <td><a href="{{ url_for('remove_trip', trip_id=trip['trip_id']) }}" class="btn btn-outline-danger" role="button">Remove Trip</a></td>
                </tr>
                <tr class="collapse multi-collapse" id="map_{{ trip['trip_id'] }}">
                    <td></td>
                    <td>
                        <iframe src="//www.google.com/maps/embed/v1/place?q={{trip['dest']}}&zoom=10&key=AIzaSyCXQLPYCKTKEdmCIzcpsIzoIjqK0xCywfA">
                        </iframe>
                    </td>
                    <td></td>
                    <td></td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>
{% endblock %}
